<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Axilum AI — Confidentialité</title>
  <style>
    :root {
      --bg-primary: #FAFBFC;
      --bg-secondary: #F4F6F8;
      --bg-sidebar: #FFFFFF;
      --text-primary: #1F2937;
      --text-secondary: #6B7280;
      --border-color: #E5E7EB;
      --accent: #3B82F6;
      --shadow: rgba(0, 0, 0, 0.08);
    }

    [data-theme="dark"] {
      --bg-primary: #111827;
      --bg-secondary: #1F2937;
      --bg-sidebar: #0F172A;
      --text-primary: #F9FAFB;
      --text-secondary: #9CA3AF;
      --border-color: #374151;
      --shadow: rgba(0, 0, 0, 0.4);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      transition: background 0.3s, color 0.3s;
    }

    .page-header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: var(--bg-primary);
      border-bottom: 1px solid var(--border-color);
    }

    .page-header-inner {
      max-width: 980px;
      margin: 0 auto;
      padding: 14px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      justify-content: space-between;
    }

    .btn {
      appearance: none;
      border: 1px solid var(--border-color);
      background: var(--bg-secondary);
      color: var(--text-primary);
      border-radius: 10px;
      padding: 10px 12px;
      font-weight: 600;
      cursor: pointer;
      transition: opacity 0.2s;
      white-space: nowrap;
    }
    .btn:hover { opacity: 0.92; }

    .title {
      margin: 0;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
    }

    .container {
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 16px 28px;
    }

    .card {
      background: var(--bg-sidebar);
      border: 1px solid var(--border-color);
      border-radius: 14px;
      box-shadow: 0 6px 16px var(--shadow);
      padding: 16px;
    }

    h2 {
      margin: 18px 0 10px;
      font-size: 16px;
    }
    h3 {
      margin: 14px 0 8px;
      font-size: 14px;
      color: var(--text-primary);
    }
    p {
      margin: 10px 0;
      color: var(--text-secondary);
      line-height: 1.55;
      font-size: 14px;
    }
    ul {
      margin: 8px 0 0 18px;
      color: var(--text-secondary);
      line-height: 1.55;
      font-size: 14px;
    }
    li { margin: 6px 0; }

    a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }
    a:hover { text-decoration: underline; }

    .meta {
      margin: 0 0 10px;
      font-size: 13px;
      color: var(--text-secondary);
    }
  </style>
</head>
<body>
  <header class="page-header">
    <div class="page-header-inner">
      <button id="privacyBackBtn" class="btn" type="button" onclick="goBackToApp()">← Retour</button>
      <h1 id="privacyTitle" class="title">Confidentialité</h1>
      <div style="width: 90px;"></div>
    </div>
  </header>

  <main class="container">
    <div id="privacyCard" class="card">
      <p class="meta"><strong>Dernière mise à jour :</strong> Janvier 2026</p>

    <h2>Résumé</h2>
    <p>
      Axilum AI vous propose deux modes de stockage afin de vous laisser le contrôle :
      <strong>Local (cet appareil)</strong> ou <strong>Cloud sécurisé (compte requis)</strong>.
      Le mode <strong>Demander à chaque upload</strong> vous permet de décider au cas par cas.
    </p>

    <h2>Modes de stockage</h2>
    <h3>1) Local (cet appareil)</h3>
    <ul>
      <li>Vos conversations et fichiers restent dans votre navigateur (stockage local).</li>
      <li>Aucune synchronisation multi-appareils.</li>
      <li>
        Important : si plusieurs personnes utilisent le même ordinateur et le même profil navigateur,
        elles peuvent potentiellement accéder à ces données.
      </li>
    </ul>

    <h3>2) Cloud sécurisé (compte requis)</h3>
    <ul>
      <li>Vos données peuvent être synchronisées pour l’accès multi-appareils.</li>
      <li>Accès contrôlé par authentification (token JWT signé).</li>
      <li>Isolation stricte par utilisateur côté serveur (un compte ne peut pas accéder aux données d’un autre compte).</li>
      <li>Stockage cloud privé et chiffré au repos (chiffrement géré par Azure).</li>
    </ul>

    <h2>Ce que nous stockons</h2>
    <ul>
      <li><strong>Conversations</strong> : messages, métadonnées (selon fonctionnalités activées).</li>
      <li><strong>Fichiers/documents</strong> : uniquement si vous les téléchargez/importez (ex: factures/rapports Finance).</li>
      <li><strong>Compte</strong> : email et informations nécessaires à l’authentification.</li>
    </ul>

    <h2>Sécurité</h2>
    <ul>
      <li><strong>Chiffrement en transit</strong> : communications via HTTPS.</li>
      <li><strong>Contrôle d’accès</strong> : en mode Cloud, l’accès est protégé par token JWT signé.</li>
      <li><strong>Isolation</strong> : chaque utilisateur accède uniquement à ses propres données (en mode Cloud), y compris pour les fichiers (factures/rapports) et l’historique Finance.</li>
      <li><strong>Stockage privé</strong> : les conteneurs de fichiers sont non publics et les opérations de liste/téléchargement/suppression sont limitées au périmètre de votre compte.</li>
      <li><strong>Limites d’upload</strong> : taille et formats peuvent être limités pour réduire les risques.</li>
    </ul>

    <h2>Durée de conservation</h2>
    <p>
      La conservation dépend du mode choisi (Local vs Cloud) et de vos actions (suppression manuelle).
      Certaines données peuvent être conservées pour assurer le bon fonctionnement (ex: historique, synchronisation),
      sauf suppression.
    </p>

    <h2>Module Finance (spécifique)</h2>
    <p>
      Lorsque vous utilisez les fonctionnalités Finance avec stockage Cloud, les conversations et paramètres sont associés à votre compte,
      et les documents (factures/rapports) sont stockés dans un espace isolé par utilisateur.
      Cela empêche un autre compte de lister, télécharger ou supprimer vos documents.
    </p>

    <h2>Vos choix et contrôles</h2>
    <ul>
      <li>Vous pouvez choisir le mode de stockage dans <strong>Paramètres → Gestion des Données</strong>.</li>
      <li>Vous pouvez exporter vos conversations (si l’option est disponible).</li>
      <li>Vous pouvez supprimer vos données locales depuis l’application.</li>
    </ul>

    <h2>Contact</h2>
    <p>
      Support : <a href="mailto:contact@axilum.com">contact@axilum.com</a>
    </p>

      <p style="margin-top: 14px;">
        <a href="/" onclick="goBackToApp(); return false;">Retour à l’application</a>
      </p>
    </div>
  </main>

  <script>
    (function applyTheme() {
      try {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', savedTheme);
      } catch (_) {
        document.body.setAttribute('data-theme', 'light');
      }
    })();

    function normalizeAppLanguage(lang) {
      const raw = String(lang || '').toLowerCase();
      if (raw.startsWith('en')) return 'en';
      return 'fr';
    }

    function getAppLanguage() {
      try {
        const stored = localStorage.getItem('appLanguage');
        if (stored) return normalizeAppLanguage(stored);
      } catch (_) {}
      return normalizeAppLanguage((navigator && navigator.language) ? navigator.language : 'fr');
    }

    // Privacy page content (FR HTML is the source-of-truth in DOM; EN is injected on demand)
    let PRIVACY_CARD_FR_HTML = null;
    const PRIVACY_CARD_EN_HTML = `
      <p class="meta"><strong>Last updated:</strong> January 2026</p>

      <h2>Summary</h2>
      <p>
        Axilum AI offers two storage modes to keep you in control:
        <strong>Local (this device)</strong> or <strong>Secure cloud (account required)</strong>.
        The <strong>Ask on each upload</strong> mode lets you decide case by case.
      </p>

      <h2>Storage modes</h2>
      <h3>1) Local (this device)</h3>
      <ul>
        <li>Your conversations and files stay in your browser (local storage).</li>
        <li>No multi-device sync.</li>
        <li>
          Important: if multiple people use the same computer and the same browser profile,
          they may potentially access this data.
        </li>
      </ul>

      <h3>2) Secure cloud (account required)</h3>
      <ul>
        <li>Your data can be synchronized for multi-device access.</li>
        <li>Access is controlled by authentication (signed JWT token).</li>
        <li>Strict per-user isolation on the server (an account cannot access another account’s data).</li>
        <li>Private cloud storage encrypted at rest (encryption managed by Azure).</li>
      </ul>

      <h2>What we store</h2>
      <ul>
        <li><strong>Conversations</strong>: messages and metadata (depending on enabled features).</li>
        <li><strong>Files/documents</strong>: only if you upload/import them (e.g., Finance invoices/reports).</li>
        <li><strong>Account</strong>: email and information required for authentication.</li>
      </ul>

      <h2>Security</h2>
      <ul>
        <li><strong>Encryption in transit</strong>: HTTPS communications.</li>
        <li><strong>Access control</strong>: in Cloud mode, access is protected by a signed JWT token.</li>
        <li><strong>Isolation</strong>: each user can only access their own data (in Cloud mode), including files (invoices/reports) and Finance history.</li>
        <li><strong>Private storage</strong>: file containers are not public; list/download/delete operations are scoped to your account.</li>
        <li><strong>Upload limits</strong>: file size and formats may be restricted to reduce risks.</li>
      </ul>

      <h2>Retention period</h2>
      <p>
        Retention depends on the selected mode (Local vs Cloud) and your actions (manual deletion).
        Some data may be retained to ensure proper operation (e.g., history, synchronization), unless deleted.
      </p>

      <h2>Finance module (specific)</h2>
      <p>
        When you use Finance features with Cloud storage, conversations and settings are tied to your account,
        and documents (invoices/reports) are stored in a per-user isolated space.
        This prevents another account from listing, downloading, or deleting your documents.
      </p>

      <h2>Your choices and controls</h2>
      <ul>
        <li>You can choose the storage mode in <strong>Settings → Data management</strong>.</li>
        <li>You can export your conversations (if the option is available).</li>
        <li>You can delete your local data from the application.</li>
      </ul>

      <h2>Contact</h2>
      <p>
        Support: <a href="mailto:contact@axilum.com">contact@axilum.com</a>
      </p>

      <p style="margin-top: 14px;">
        <a href="/" onclick="goBackToApp(); return false;">Back to the app</a>
      </p>
    `;

    function applyPrivacyLanguage() {
      const lang = getAppLanguage();
      try { document.documentElement.lang = lang; } catch (_) {}

      const backBtn = document.getElementById('privacyBackBtn');
      if (backBtn) backBtn.textContent = (lang === 'en') ? '← Back' : '← Retour';

      const title = document.getElementById('privacyTitle');
      if (title) title.textContent = (lang === 'en') ? 'Privacy' : 'Confidentialité';

      try {
        document.title = (lang === 'en') ? 'Axilum AI — Privacy' : 'Axilum AI — Confidentialité';
      } catch (_) {}

      const card = document.getElementById('privacyCard');
      if (!card) return;
      if (PRIVACY_CARD_FR_HTML === null) PRIVACY_CARD_FR_HTML = card.innerHTML;
      card.innerHTML = (lang === 'en') ? PRIVACY_CARD_EN_HTML : PRIVACY_CARD_FR_HTML;
    }

    // Script is at the end of body, DOM is ready here.
    applyPrivacyLanguage();

    function goBackToApp() {
      try {
        if (window.history && window.history.length > 1) {
          window.history.back();
          return;
        }
      } catch (_) {}
      window.location.href = '/';
    }
  </script>
</body>
</html>

# Copiez ce fichier vers api/.env.local (non versionné) et renseignez vos clés.
# api/.env.local surcharge api/.env (override).

# LLM (Groq)
GROQ_API_KEY=

# Recherche web (Brave)
BRAVE_API_KEY=

# Sources scientifiques (Semantic Scholar)
# Clé optionnelle (améliore les quotas). Sans clé, l’API publique fonctionne mais peut être plus limitée.
SEMANTIC_SCHOLAR_API_KEY=

# Wesh: sources de preuves (activées seulement en mode web-search)
WESH_SEMANTIC_SCHOLAR_ENABLED=true
WESH_SEMANTIC_SCHOLAR_MAX=2

# Agent RH: enrichissement web silencieux (sans afficher liens/sources côté UI)
# Active un fetch d'extraits quand la question est "tendance/récente/benchmark...".
# Par défaut: true (si la variable est absente)
HR_SILENT_WEB_REFRESH_ENABLED=true

# Agent Marketing: enrichissement web silencieux (sans afficher liens/sources côté UI)
MARKETING_SILENT_WEB_REFRESH_ENABLED=true

# Agent Dev: enrichissement web silencieux (sans afficher liens/sources côté UI)
DEV_SILENT_WEB_REFRESH_ENABLED=true

# Excel: enrichissement web silencieux (sans sources/liens) pour les questions “à jour”
EXCEL_SILENT_WEB_REFRESH_ENABLED=true

# Agent Alex: enrichissement web silencieux (sans sources/liens) pour les questions “à jour”
ALEX_SILENT_WEB_REFRESH_ENABLED=true

# Agent Tony: enrichissement web silencieux (sans sources/liens) pour les questions “à jour”
TONY_SILENT_WEB_REFRESH_ENABLED=true

# Agent ToDo: enrichissement web silencieux (sans sources/liens) pour les questions “à jour”
TODO_SILENT_WEB_REFRESH_ENABLED=true

# AI Management: enrichissement web silencieux (sans sources/liens) pour les questions “à jour”
AI_MANAGEMENT_SILENT_WEB_REFRESH_ENABLED=true

# Optionnel: fallback hallucination detector
GEMINI_API_KEY=

# Google Custom Search (pour recherche d'images inversée)
GOOGLE_SEARCH_API_KEY=
GOOGLE_SEARCH_CX=

# Azure Face API (pour détection âge/genre - distinct de Computer Vision)
AZURE_FACE_KEY=
AZURE_FACE_ENDPOINT=

# Elasticsearch (Search + Vector DB)
# Local: ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_URL=
# Option A: API key (Elastic Cloud / ES API key)
ELASTICSEARCH_API_KEY=
# Option B: Basic auth (self-host)
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=
# Nom d'index partagé (multi-tenant via tenantId)
ELASTICSEARCH_INDEX=axilum-user-docs
# Dimensions du vecteur (doit correspondre à l'embedding)
ELASTICSEARCH_VECTOR_DIMS=100

# Azure OpenAI Embeddings (pour Docs RAG)
# Requis si vous voulez des embeddings de qualité (sinon fallback "simple" local).
AZURE_OPENAI_ENDPOINT=
# Alias accepté: AZURE_OPENAI_API_KEY ou AZURE_AI_API_KEY
AZURE_OPENAI_API_KEY=
AZURE_AI_API_KEY=
# Nom du deployment embeddings (ex: text-embedding-3-small)
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=
# API version (optionnel)
AZURE_OPENAI_EMBEDDINGS_API_VERSION=2024-02-15-preview

# Modèle ID pour la facturation (doit exister dans AI_PRICING_JSON)
# Si vide, on utilise le nom du deployment.
AZURE_OPENAI_EMBEDDINGS_MODEL_ID=aoai-embeddings

# Quota / coûts (optionnels)
# - AI_PRICING_JSON: dictionnaire { modelId: { in: <USD_per_1M_input_tokens>, out: <USD_per_1M_output_tokens> } }
# - AI_CREDIT_ENFORCE=1: bloque quand crédit insuffisant
# - AZURE_STORAGE_CONNECTION_STRING: persiste usage/credits dans Azure Table Storage
AI_CREDIT_ENFORCE=0
AI_COST_CURRENCY=EUR
AI_PRICING_CURRENCY=USD
AI_FX_USD_TO_EUR=
AI_PRICING_JSON=

# Stockage (add-on)
# Par défaut, l’API refuse l’ajout de stockage pour les utilisateurs non-admin.
# En dev uniquement, vous pouvez autoriser l’auto-service (UI “Ajouter du stockage”).
AXILUM_ALLOW_SELF_SERVICE_STORAGE_ADDON=0
